---
description: å¼€å‘æµç¨‹å’Œå·¥å…·ä½¿ç”¨è§„èŒƒ
alwaysApply: false
---
# å¼€å‘æµç¨‹å’Œå·¥å…·ä½¿ç”¨è§„èŒƒ

## ğŸ”§ å¼€å‘å·¥å…·é“¾

### å¿…éœ€å·¥å…·å®‰è£…

```bash
# Rust å·¥å…·é“¾
rustup update stable
rustup component add rustfmt clippy

# Tauri å¼€å‘
cargo install tauri-cli
bun install @tauri-apps/cli

# ä»£ç è´¨é‡å·¥å…·
cargo install cargo-watch
bun add -g eslint prettier
```

### ç¯å¢ƒé…ç½®

```bash
# .env.development
RUST_LOG=debug
RUST_BACKTRACE=1
TAURI_DEBUG=true

# å¼€å‘æ¨¡å¼è®¾ç½®
DEV_MODE=true
LOG_LEVEL=debug
```

## ğŸ“‹ å¼€å‘å·¥ä½œæµ

### æäº¤å‰æ£€æŸ¥æ¸…å•

```bash
# 1. ä»£ç æ ¼å¼åŒ–
bun run format
cargo fmt

# 2. ä»£ç æ£€æŸ¥
bun run lint
cargo clippy -- -D warnings

# 3. ç±»å‹æ£€æŸ¥
bunx nuxi typecheck
cargo check

# 4. æµ‹è¯•è¿è¡Œ
bun test
cargo test
```

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### æµ‹è¯•åˆ†ç±»

**å‰ç«¯æµ‹è¯•**
```bash
# å•å…ƒæµ‹è¯•
bun test

# ç»„ä»¶æµ‹è¯•
bun test components/

# E2E æµ‹è¯•
bun run test:e2e
```

**åç«¯æµ‹è¯•**
```bash
# å•å…ƒæµ‹è¯•
cargo test

# é›†æˆæµ‹è¯•
cargo test --test integration_tests

# æ€§èƒ½æµ‹è¯•
cargo bench
```

### æµ‹è¯•ç¼–å†™è§„èŒƒ

```typescript
// å‰ç«¯æµ‹è¯•ç¤ºä¾‹
import { describe, it, expect } from 'vitest'
import { useProject } from '~/composables/useProject'

describe('useProject', () => {
  it('åº”è¯¥æ­£ç¡®åŠ è½½é¡¹ç›®', async () => {
    const { loadProject, projectInfo } = useProject()
    await loadProject('/test/path')
    expect(projectInfo.value).toBeDefined()
  })
})
```

```rust
// åç«¯æµ‹è¯•ç¤ºä¾‹
#[cfg(test)]
mod tests {
    use super::*;

    #[tokio::test]
    async fn test_load_project() {
        let manager = ProjectManager::new();
        let result = manager.load_project("test_data").await;
        assert!(result.is_ok());
    }
}
```

## ğŸš€ æ„å»ºå’Œéƒ¨ç½²

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
bun run tauri:dev

# æˆ–å•ç‹¬å¯åŠ¨å‰åç«¯
bun run nuxt:dev    # å‰ç«¯å¼€å‘æœåŠ¡å™¨
cargo tauri dev     # Tauri å¼€å‘æ¨¡å¼
```

### ç”Ÿäº§æ„å»º

```bash
# å®Œæ•´æ„å»º
bun run tauri:build

# æŒ‡å®šå¹³å°æ„å»º
cargo tauri build --target x86_64-pc-windows-msvc
cargo tauri build --target x86_64-unknown-linux-gnu
```

### æ„å»ºä¼˜åŒ–

```bash
# Rust ä¼˜åŒ–ç¼–è¯‘
cargo build --release

# å‰ç«¯æ‰“åŒ…ä¼˜åŒ–
bun run nuxt:build
```

## ğŸ”„ CI/CD é…ç½®

### GitHub Actions å·¥ä½œæµ

```yaml
# .github/workflows/ci.yml (ç²¾ç®€ç‰ˆ)
name: CI

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Setup Rust
        uses: dtolnay/rust-toolchain@stable

      - name: Setup Bun
        uses: oven-sh/setup-bun@v1

      - name: Install dependencies
        run: bun install

      - name: Check format
        run: |
          cargo fmt --check
          bun run format:check

      - name: Run tests
        run: |
          cargo test
          bun test

      - name: Build
        run: bun run tauri:build
```

## ğŸ”§ å¼€å‘ç¯å¢ƒç®¡ç†

### é¡¹ç›®è„šæœ¬

```json
// package.json scripts
{
  "scripts": {
    "dev": "tauri dev",
    "build": "tauri build",
    "test": "vitest",
    "test:ui": "vitest --ui",
    "lint": "eslint . --fix",
    "format": "prettier --write .",
    "typecheck": "nuxi typecheck"
  }
}
```

### ä¾èµ–ç®¡ç†

```bash
# æ·»åŠ ä¾èµ–
bun add <package>          # å‰ç«¯ä¾èµ–
cargo add <crate>          # Rust ä¾èµ–

# æ›´æ–°ä¾èµ–
bun update                 # å‰ç«¯æ›´æ–°
cargo update               # Rust æ›´æ–°

# æ£€æŸ¥è¿‡æ—¶ä¾èµ–
bun outdated
cargo outdated
```

## ğŸ“š æ–‡æ¡£ç»´æŠ¤

### API æ–‡æ¡£ç”Ÿæˆ

```bash
# Rust æ–‡æ¡£
cargo doc --no-deps --open

# TypeScript æ–‡æ¡£
bunx typedoc src
```

### æ–‡æ¡£æ›´æ–°åŸåˆ™

- å…¬å¼€ API å¿…é¡»æœ‰æ–‡æ¡£æ³¨é‡Š
- é‡è¦é…ç½®å˜æ›´æ›´æ–° README
- æ–°åŠŸèƒ½æ·»åŠ ä½¿ç”¨ç¤ºä¾‹
- ç ´åæ€§å˜æ›´è¯¦ç»†è¯´æ˜è¿ç§»æ–¹æ¡ˆ

## ğŸ› è°ƒè¯•å’Œæ•…éšœæ’é™¤

### å¸¸ç”¨è°ƒè¯•å‘½ä»¤

```bash
# Rust è°ƒè¯•
RUST_LOG=trace cargo run
cargo expand                # å®å±•å¼€

# å‰ç«¯è°ƒè¯•
DEBUG=* bun run dev
bun run dev --debug
```

### æ—¥å¿—é…ç½®

```rust
// Rust æ—¥å¿—è®¾ç½®
use log::{info, warn, error, debug};

fn main() {
    env_logger::init();
    info!("åº”ç”¨å¯åŠ¨");
}
```

```typescript
// å‰ç«¯æ—¥å¿—è®¾ç½®
const isDev = process.env.NODE_ENV === 'development'

export const logger = {
  info: (msg: string) => isDev && console.log(`[INFO] ${msg}`),
  warn: (msg: string) => console.warn(`[WARN] ${msg}`),
  error: (msg: string) => console.error(`[ERROR] ${msg}`)
}
```
